## 1.0.10 (15.12.2018) 
## 3.7.0 (??.07.2018)
- `(feature)` В ответе на запрос списка сотрудников для каждой записи передаются также офис и филиал 
(см. [API](/docs/API.md)).

## 3.6.0 (17.07.2018)
- `(feature)` Добавлен метод поиска сотрудника по персональному номеру и офису 
(см. [API](/docs/API.md) и [клиент](/auth-service-client/src/main/java/ru/softlab/efr/services/auth/EmployeesManageAuthServiceClient.java)).

## 3.5.0 (21.06.2018)
- Реализованы dev и test режимы сборки
- Реализована фабрика контекстов безопасности

## 3.4.0 (07.06.2018)
- Реализована возможность задания аннотаций @HasPermission и @HasRight для методов любого бина(#1).

## 3.3.0 (01.06.2018)
- для хранения данных сотрудника используется ThreadLocal без привязки к веб-реквестам 

## 3.2.0 (25.05.2018)
- обновлена версия utilities до 3.1.1
- обновлена версия transport до 2.1.0
- обновлена версия service.discovery до 2.1.0

## 3.1.0 (23.05.2018)
- обновлена версия ru.softlab.efr.common:utilities до 3.1.0
- расширено апи (ответ) запроса аутентификации `POST /auth/v1/session`:

   ```javascript
   `406 Not Acceptable`: ошибка состояния сотрудника
   response {
      type: 'BLOCKED',                        // тип ошибки (BLOCKED, OFFICE_NOT_FOUND, ROLE_NOT_FOUND, EMPTY_ROLE)
      message: 'Пользователь заблокирован'    // серверное (внутреннее) сообщение
   }
   ```  

## 3.0.0 (21.05.2018)
- `auth-service-app`
   - изменен запрос списка сотрудников `GET /auth/v1/employees`:
      - добавлен обязательный параметр `office` (офис сотрудников)
      - добавлен, возвращаемый для сотрудника, атрибут `personnelNumber` (идентификатор сотрудника)
      - удален, возвращаемый для сотрудника, атрибут `id`
   - удален запрос получения данных сотрудника `GET /auth/v1/employees/{id}`
   - удален запрос создания сотрудника `POST /auth/v1/employees`
   - удален запрос обновления атрибутов сотрудника `PUT /auth/v1/employees/{id}`
   - удален запрос удаления сотрудника `DELETE /auth/v1/employees/{id}`
   - удален запрос списка методов аутентификации `GET /auth/v1/session/types`
   - удален параметр `type` из запроса аутентификации `POST /auth/v1/session`
   - Переработана модель авторизации: 
      - вводится новое понятие `право` - минимальная единица (доступная через api) управления доступом к функциональности 
      - `auth-service` хранит соотношения (динамические) роль-права
      - сервис (клиентский сервис), использующий данные авторизации, хранит соотношения (статические) разрешение-права
      - проверка доступа к разрешениям/праву по-прежнему производится на стороне клиентского сервиса
   - Добавлен скрипт предустановленных ролей (согласно ФТ)
   - Добавлен запрос списка прав
   - Изменены запросы
      - получения данных роли: в ответе вместо параметра `permissions` добавлен `rights`
      - создания роли: в запросе вместо параметра `permissions` добавлен `rights`
      - редактирования роли: в запросе вместо параметра `permissions` добавлен `rights`
   - Удалены запросы:
      - Список ролей и разрешений (системный запрос)
      - Список разрешений

- `auth-service-model`
   - Исключение `NoPermissionException` переименовано в `PermissionDeniedException` 

- `auth-service-support`
   - Выделен отдельный [скрипт](/auth-service-app/build/scripts/auth-service-support-model.sql) создания необходимых для работы support'а объектов модели БД.

         >Данный скрипт поставляет хранимую процедуру для настройки соотношения разрешение-права ([пример использования](/auth-service-app/build/scripts/auth-service-support-permissions.sql): `SELECT setup_permission_rights('get-rights', ARRAY ['EDIT_ROLES', 'VIEW_ROLES']);`)
    
   - Добавлена аннотация `@HasRight` для проверки прав 
   - В `SecurityContext` добавлен метод `implies(Right)` для проверки прав 
   - Из аннотации `@EnablePermissionControl` удалены параметры `permissions` и `serviceName`
   - Удалена аннотация `@PermissionInfo` (настройка тектовок для прав хранится в `auth-service-app`), в связи с этим пропала необходимость в файлах с текстовками для разрешений (по умолчанию `permissions.properties`) 
   - Удалена сущность `PermissionLink`, поэтому таблица `permission_links` в модели БД не нужна  

- `auth-service-test`
   - Создан модуль утилит тестирования сервисов с учетом механизма авторизации
      - Добавлена утилита `AuthorizedRestRule` для тестирования сервисов с учетом авторизации    
      - Добавлен конфиг `AuthTestConfiguration` для подключения утилиты `AuthorizedRestRule`    


## 2.0.1
Обновление utilities до версии 3.0.1
## 2.0.0
Обновлены зависимости
Артефакт `efr-authorization-support` переименован в `auth-service-support`
## 1.0.13-PREVIEW
efr-authorization-support: Исправлена ошибка при отсутствии request
## 1.0.12-PREVIEW
efr-authorization-support: Исправлена ошибка для preflight запросов.